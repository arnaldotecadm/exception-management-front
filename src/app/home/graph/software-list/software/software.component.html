<div
  class="card card-stats"
  [ngClass]="software.selecionado ? 'selecionado' : ''"
>
  <div class="card-header card-header-danger card-header-icon">
    <div class="card-icon" [style.background]="color">
      <i class="material-icons">{{ software.software?.name }}</i>
    </div>
    <p class="card-category">Exceções Ocorridas na Aplicação</p>
    <h3 class="card-title">{{ software.totalExceptions }}</h3>
  </div>
  <div class="card-footer">
    <div class="stats" *ngIf="!software.software; else nomeSoftware">
      App: {{ software.application }}
    </div>
    <ng-template #nomeSoftware>
      <div class="stats">App: {{ software.software.name }}</div>
      <span class="material-icons">
        <mat-icon
          class="pointer"
          [ngbPopover]="popContent"
          [popoverTitle]="popTitle"
          triggers="mouseenter:mouseleave"
          placement="right"
          #p1="ngbPopover"
          (click)="p1.open()"
        >
          <svg
            width="20"
            height="21"
            viewBox="0 0 20 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0)">
              <path d="M0 0.5H20V20.5H0V0.5Z" fill="white" />
              <path
                d="M9.99023 6.042C9.47423 6.042 9.21623 5.7 9.21623 5.016C9.21623 4.332 9.47423 3.99 9.99023 3.99C10.5062 3.99 10.7642 4.332 10.7642 5.016C10.7642 5.7 10.5062 6.042 9.99023 6.042ZM8.87423 7.68H10.6742V15.006C10.6742 15.258 10.7162 15.438 10.8002 15.546C10.8962 15.654 11.0702 15.708 11.3222 15.708C11.3342 16.02 11.2502 16.26 11.0702 16.428C10.9022 16.596 10.6502 16.68 10.3142 16.68C9.97823 16.68 9.72623 16.578 9.55823 16.374C9.40223 16.17 9.32423 15.834 9.32423 15.366V8.76L8.76623 8.85C8.68223 8.538 8.64023 8.268 8.64023 8.04C8.64023 7.8 8.71823 7.68 8.87423 7.68Z"
                fill="#E2001A"
              />
              <circle cx="10" cy="10.5" r="9.5" stroke="#E2001A" />
            </g>
            <defs>
              <clipPath id="clip0">
                <path d="M0 0.5H20V20.5H0V0.5Z" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </mat-icon>
      </span>
    </ng-template>

    <ng-template #popTitle let-language="language"
      >Dados sobre o Software</ng-template
    >
    <ng-template #popContent let-greeting="greeting">
      <span>
        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Nome</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.name }}</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Apelido</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.nickname }}</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Chave Pública</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.publicKey }}</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Ativo</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.active }}</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Em Manutenção</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.inMaintenance }}</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-5">
            <div class="form-group popover_label">
              <label>Considerações</label>
            </div>
          </div>
          <div class="col-md-7">
            <div class="form-group">
              <label>{{ software.software.consideration }}</label>
            </div>
          </div>
        </div>
      </span>
    </ng-template>
  </div>
</div>
